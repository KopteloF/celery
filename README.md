# Решение задания к лекции «Celery»
Условия задания описаны в файле [здесь](https://github.com/netology-code/py-homeworks-web/tree/new/2.4-celery)

Чтобы запустить программу необходимо:

1. Установить все необходимые библиотеки, для этого нужно открыть терминал по адресу директроии и выполнить:
```bash
pip install -r requirements.txt
```

2. Выполнить создание образа docker для redis (при необходимости порт для redis необходимо откорректировать)
```bash
sudo docker-compose up -d
```

3. Выполнить запуск celery
```bash
celery -A app.celery worker
```

4. Приложение запускается при помощи команды:

```bash
python app.py
```

по адресу ```http://127.0.0.1:5000```
и имеет 3 роута:
   - ```http://127.0.0.1:5000/upscale``` - получает POST запрос с картинкой и развращает ```<task_id>``` 
   и ```<string:file>```;
   - ```http://127.0.0.1:5000/upscale/<string:task_id>``` - получает GET запрос и возвращает статус задачи;
   - ```http://127.0.0.1:5000/upscale/<string:file>``` - получает GET запрос и возвращает обработанную картинку.


5. Проверить работу можно при помощи файла ```client.py``` при этом будет отправленны картинки находящиеся в директрии
```example``` 
```bash
python client.py
```
в результате выполнения сервер получит и сохранит картинки в директорию ```files``` картинки обработанные приложением 
будут иметь в названии суффикс ```_up```